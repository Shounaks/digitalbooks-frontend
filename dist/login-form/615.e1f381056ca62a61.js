"use strict";(self.webpackChunklogin_form=self.webpackChunklogin_form||[]).push([[615],{9615:(z,Z,l)=>{l.r(Z),l.d(Z,{AuthorModuleModule:()=>u});var a=l(6895),n=l(433),e=l(8274),b=l(8104),g=l(7539),m=l(8225),k=l(9680);function h(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f4d5} Title is Invalid "),e.qZA())}function f(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f5c3}\ufe0f Category is Invalid "),e.qZA())}function _(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f4b3} Price is Invalid "),e.qZA())}function B(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f4b3} Author is Invalid "),e.qZA())}function U(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f4dd} Publisher is Invalid "),e.qZA())}function T(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f4c5} Publish Date is invalid "),e.qZA())}function v(t,r){1&t&&(e.TgZ(0,"span",37),e._uU(1," \u{1f4c5} Content Data is not supported "),e.qZA())}function A(t,r){if(1&t&&(e.TgZ(0,"p",38),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.errorMessage)}}function x(t,r){1&t&&(e.TgZ(0,"div",39),e._uU(1,"No Books Added yet."),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td",42),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&t){const o=r.$implicit;e.xp6(2),e.Oqu(o.bookId),e.xp6(1),e.Q6J("routerLink","/book/"+o.bookId),e.xp6(1),e.Oqu(o.title),e.xp6(2),e.Oqu(o.publisher),e.xp6(2),e.Oqu(o.price)}}function y(t,r){if(1&t&&(e.TgZ(0,"table",40)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"bookId"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Title"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Publisher"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Price"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,q,9,5,"tr",41),e.qZA()()),2&t){const o=e.oxw();e.xp6(12),e.Q6J("ngForOf",o.previousBooksBySameUser)}}class d{constructor(r,o,i,c){this.bookService=r,this.userService=o,this.formBuilder=i,this.logger=c,this.errorMessage="",this.user=o.user}ngOnInit(){this.createBookForm=this.formBuilder.group({title:["",[n.kI.required,n.kI.minLength(2)]],category:["",[n.kI.minLength(2),n.kI.pattern("^([0-9A-Za-z -])+$")]],price:[,[n.kI.required,n.kI.min(1)]],authorId:[parseInt(this.user.id),[n.kI.required]],publisher:["",[n.kI.minLength(5)]],publishedDate:["",[]],content:["",[]],blocked:[!1,[n.kI.required]]}),this.createBookForm.get("author")?.disable(),this.getAllBookByAuthor()}createBook(){this.bookService.addBook(this.createBookForm.value).subscribe(r=>{this.getAllBookByAuthor()},r=>{this.logger.warn(r)})}getAllBookByAuthor(){this.bookService.searchAllBooksByAuthor().subscribe(r=>{this.previousBooksBySameUser=r},r=>{this.logger.warn("Error Occured While Retrieving the books:"+r)})}}function C(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," #\ufe0f\u20e3 BookId is Invalid "),e.qZA())}function I(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," \u{1f4d5} Title is Invalid "),e.qZA())}function D(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," \u{1f5c3}\ufe0f Category is Invalid "),e.qZA())}function F(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," \u{1f4b3} Price is Invalid "),e.qZA())}function w(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," \u{1f4b3} Author is Invalid "),e.qZA())}function N(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," Publisher is invalid "),e.qZA())}function J(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," Publish Date is invalid "),e.qZA())}function Y(t,r){1&t&&(e.TgZ(0,"span",39),e._uU(1," \u{1f4c5} Content Data is not supported "),e.qZA())}function S(t,r){if(1&t&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.errorMessage)}}function Q(t,r){1&t&&(e.TgZ(0,"div",41),e._uU(1,"No Books Added yet."),e.qZA())}function P(t,r){if(1&t&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td",44),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&t){const o=r.$implicit;e.xp6(2),e.Oqu(o.bookId),e.xp6(1),e.Q6J("routerLink","/book/"+o.bookId),e.xp6(1),e.Oqu(o.title),e.xp6(2),e.Oqu(o.publisher),e.xp6(2),e.Oqu(o.price)}}function O(t,r){if(1&t&&(e.TgZ(0,"table",42)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"bookId"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Title"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Publisher"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Price"),e.qZA()()(),e.TgZ(11,"tbody"),e.YNc(12,P,9,5,"tr",43),e.qZA()()),2&t){const o=e.oxw();e.xp6(12),e.Q6J("ngForOf",o.previousBooksBySameUser)}}d.\u0275fac=function(r){return new(r||d)(e.Y36(b.Z),e.Y36(g.P),e.Y36(n.qu),e.Y36(m.Kf))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-createbook"]],decls:81,vars:13,consts:[[1,"hero","min-h-screen","bg-[url('/assets/book_wall.jpg')]"],[1,"hero-content","text-center","max-w-full","h-full"],[1,"max-w-md","shadow-lg","border-base-100","p-4","border-2","rounded-box","bg-base-200"],[1,"text-5xl","font-bold"],[1,"border-base-100","border-2"],[1,"py-6"],[1,"underline"],["id","createBookFormContainer",1,""],[3,"formGroup","ngSubmit"],[1,"form-control"],["for","title",1,"label"],[1,"label-text"],["id","title","name","title","type","text","placeholder","Eg. 'The Count of Monte Christo'","formControlName","title",1,"input","input-bordered","rounded-none","rounded-t"],["class","bg-base-300 text-red-400 w-full label-text-alt rounded-b",4,"ngIf"],["for","category",1,"label"],["id","category","name","category","type","text","placeholder","Eg: 'Mystery'","formControlName","category",1,"input","input-bordered","rounded-none","rounded-t"],["for","price",1,"label"],["id","price","name","price","type","number","placeholder","Eg. '250$'","formControlName","price",1,"input","input-bordered","rounded-none","rounded-t"],["for","authorId",1,"label"],["id","authorId","name","authorId","type","text","placeholder","Eg. 232122","formControlName","authorId",1,"input","input-bordered","rounded-none","rounded-t","input-disabled",3,"readonly"],["for","publisher",1,"label"],["id","publisher","name","publisher","type","text","placeholder","Eg. 'Penguin Ltd.'","formControlName","publisher",1,"input","input-bordered","rounded-none","rounded-t"],["for","publishedDate",1,"label"],["id","publishedDate","name","publishedDate","type","date","formControlName","publishedDate",1,"input","input-bordered","rounded-none","rounded-t"],["for","content",1,"label"],["id","content","name","content","type","texta","formControlName","content",1,"input","input-bordered","rounded-none","rounded-t"],[1,"flex","flex-row","justify-around"],["for","blocked"],["type","checkbox","name","blocked","id","blocked","formControlName","blocked",1,"toggle"],[1,"form-control","mt-6"],[1,"btn","btn-active",3,"disabled"],["class","text-red-400",4,"ngIf"],[1,"max-w","shadow-lg","border-base-100","p-4","border-2","rounded-box","h-screen","bg-base-200","opacity-95"],[1,"text-secondary"],[1,"overflow-x-auto"],["class","text-xl font-bold text-slate-500",4,"ngIf"],["class","table w-full",4,"ngIf"],[1,"bg-base-300","text-red-400","w-full","label-text-alt","rounded-b"],[1,"text-red-400"],[1,"text-xl","font-bold","text-slate-500"],[1,"table","w-full"],[4,"ngFor","ngForOf"],[1,"text-secondary","link","underline-offset-2","cursor-pointer",3,"routerLink"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Create Book"),e.qZA(),e._UZ(5,"hr",4),e.TgZ(6,"p",5),e._uU(7,"To create the book. "),e.TgZ(8,"span",6),e._uU(9,"The Title should be Unique"),e.qZA(),e._uU(10,". Please add Title, Category, Price (in INR), Publisher Name, Date and content of the page. (255 Max length. Will need to increase in backend). "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return o.createBook()}),e.TgZ(14,"div",9)(15,"label",10)(16,"span",11),e._uU(17,"Title"),e.qZA()(),e._UZ(18,"input",12),e.YNc(19,h,2,0,"span",13),e.qZA(),e.TgZ(20,"div",9)(21,"label",14)(22,"span",11),e._uU(23,"Category"),e.qZA()(),e._UZ(24,"input",15),e.YNc(25,f,2,0,"span",13),e.qZA(),e.TgZ(26,"div",9)(27,"label",16)(28,"span",11),e._uU(29,"Price"),e.qZA()(),e._UZ(30,"input",17),e.YNc(31,_,2,0,"span",13),e.qZA(),e.TgZ(32,"div",9)(33,"label",18)(34,"span",11),e._uU(35,"AuthorId"),e.qZA()(),e._UZ(36,"input",19),e.YNc(37,B,2,0,"span",13),e.qZA(),e.TgZ(38,"div",9)(39,"label",20)(40,"span",11),e._uU(41,"Publisher"),e.qZA()(),e._UZ(42,"input",21),e.YNc(43,U,2,0,"span",13),e.qZA(),e.TgZ(44,"div",9)(45,"label",22)(46,"span",11),e._uU(47,"Publish Date"),e.qZA()(),e._UZ(48,"input",23),e.YNc(49,T,2,0,"span",13),e.qZA(),e.TgZ(50,"div",9)(51,"label",24)(52,"span",11),e._uU(53,"Content:"),e.qZA()(),e._UZ(54,"textarea",25),e.YNc(55,v,2,0,"span",13),e.qZA(),e._UZ(56,"br"),e.TgZ(57,"div",9)(58,"div",26)(59,"label",27),e._uU(60,"UnBlocked"),e.qZA(),e._UZ(61,"input",28),e.TgZ(62,"label",27),e._uU(63,"Blocked"),e.qZA()()(),e.TgZ(64,"div",29)(65,"button",30),e._uU(66,"Create Book Entry"),e.qZA()(),e.TgZ(67,"div"),e.YNc(68,A,2,1,"p",31),e.qZA()()()(),e.TgZ(69,"div",32)(70,"h1",3),e._uU(71,"List of Previous Books"),e.qZA(),e._UZ(72,"hr",4),e.TgZ(73,"p",5),e._uU(74,"Following is the List of previous books written by you. You can check the general information by clicking "),e.TgZ(75,"span",33),e._uU(76,"Book Title"),e.qZA()(),e._UZ(77,"br"),e.TgZ(78,"div",34),e.YNc(79,x,2,0,"div",35),e.YNc(80,y,13,1,"table",36),e.qZA()()()()),2&r&&(e.xp6(13),e.Q6J("formGroup",o.createBookForm),e.xp6(6),e.Q6J("ngIf",o.createBookForm.controls.title.invalid&&o.createBookForm.controls.title.dirty),e.xp6(6),e.Q6J("ngIf",o.createBookForm.controls.category.invalid&&o.createBookForm.controls.category.dirty),e.xp6(6),e.Q6J("ngIf",o.createBookForm.controls.price.invalid&&o.createBookForm.controls.price.dirty),e.xp6(5),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngIf",o.createBookForm.controls.authorId.invalid&&o.createBookForm.controls.authorId.dirty),e.xp6(6),e.Q6J("ngIf",o.createBookForm.controls.publisher.invalid&&o.createBookForm.controls.publisher.dirty),e.xp6(6),e.Q6J("ngIf",o.createBookForm.controls.publishedDate.invalid&&o.createBookForm.controls.publishedDate.dirty),e.xp6(6),e.Q6J("ngIf",o.createBookForm.controls.content.invalid&&o.createBookForm.controls.content.dirty),e.xp6(10),e.Q6J("disabled",o.createBookForm.invalid),e.xp6(3),e.Q6J("ngIf",o.errorMessage),e.xp6(11),e.Q6J("ngIf",o.previousBooksBySameUser&&0===o.previousBooksBySameUser.length),e.xp6(1),e.Q6J("ngIf",o.previousBooksBySameUser&&0!==o.previousBooksBySameUser.length))},dependencies:[a.sg,a.O5,k.rH,n._Y,n.Fj,n.wV,n.Wl,n.JJ,n.JL,n.sg,n.u]});class s{constructor(r,o,i,c){this.bookService=r,this.userService=o,this.formBuilder=i,this.logger=c,this.errorMessage=""}ngOnInit(){this.updateBookForm=this.formBuilder.group({bookId:["",[n.kI.required]],title:["",[n.kI.required,n.kI.minLength(2)]],category:["",[n.kI.minLength(2),n.kI.pattern("^([0-9A-Za-z -])+$")]],price:[,[n.kI.required,n.kI.min(1)]],authorId:[parseInt(this.userService.user.id),[n.kI.required]],publisher:["",[n.kI.minLength(5)]],publishedDate:["",[]],content:["",[]],blocked:[!1,[n.kI.required]]}),this.updateBookForm.get("author")?.disable(),this.getAllBookByAuthor()}getAllBookByAuthor(){this.bookService.searchAllBooksByAuthor().subscribe(r=>{this.previousBooksBySameUser=r},r=>{this.logger.warn("Error Occured While Retrieving the books")})}updateBook(){this.bookService.updateBook(this.updateBookForm.value).subscribe(r=>this.getAllBookByAuthor(),r=>this.logger.warn(r))}}function L(t,r){1&t&&(e.TgZ(0,"div",4),e._uU(1,"No Books Found... Try Adding Books First"),e.qZA())}s.\u0275fac=function(r){return new(r||s)(e.Y36(b.Z),e.Y36(g.P),e.Y36(n.qu),e.Y36(m.Kf))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-updatebook"]],decls:88,vars:14,consts:[[1,"hero","min-h-screen","bg-[url('/assets/book_wall.jpg')]"],[1,"hero-content","text-center","max-w-full","h-full"],[1,"max-w-md","shadow-lg","border-base-100","p-4","border-2","rounded-box","bg-base-200"],[1,"text-5xl","font-bold"],[1,"border-base-100","border-2"],[1,"py-6"],[1,"underline"],["id","createBookFormContainer",1,""],[3,"formGroup","ngSubmit"],[1,"form-control"],["for","bookId",1,"label"],[1,"label-text"],["id","bookId","name","bookId","type","number","placeholder","Eg. '3221'","formControlName","bookId",1,"input","input-bordered","rounded-none","rounded-t"],["class","bg-base-300 text-red-400 w-full label-text-alt rounded-b",4,"ngIf"],["for","title",1,"label"],["id","title","name","title","type","text","placeholder","Eg. 'The Count of Monte Christo'","formControlName","title",1,"input","input-bordered","rounded-none","rounded-t"],["for","category",1,"label"],["id","category","name","category","type","text","placeholder","Eg: 'Mystery'","formControlName","category",1,"input","input-bordered","rounded-none","rounded-t"],["for","price",1,"label"],["id","price","name","price","type","number","placeholder","Eg. '250$'","formControlName","price",1,"input","input-bordered","rounded-none","rounded-t"],["for","authorId",1,"label"],["id","authorId","name","authorId","type","text","placeholder","Eg. 232122","formControlName","authorId",1,"input","input-bordered","rounded-none","rounded-t","input-disabled",3,"readonly"],["for","publisher",1,"label"],["id","publisher","name","publisher","type","text","placeholder","Eg. 'Penguin Ltd.'","formControlName","publisher",1,"input","input-bordered","rounded-none","rounded-t"],["for","publishedDate",1,"label"],["id","publishedDate","name","publishedDate","type","date","formControlName","publishedDate",1,"input","input-bordered","rounded-none","rounded-t"],["for","content",1,"label"],["id","content","name","content","type","texta","formControlName","content",1,"input","input-bordered","rounded-none","rounded-t"],[1,"flex","flex-row","justify-around"],["for","blocked"],["type","checkbox","name","blocked","id","blocked","formControlName","blocked",1,"toggle"],[1,"form-control","mt-6"],[1,"btn","btn-active",3,"disabled"],["class","text-red-400",4,"ngIf"],[1,"max-w","shadow-lg","border-base-100","p-4","border-2","rounded-box","h-screen","bg-base-200","opacity-95"],[1,"text-secondary"],[1,"overflow-x-auto"],["class","text-xl font-bold text-slate-500",4,"ngIf"],["class","table w-full",4,"ngIf"],[1,"bg-base-300","text-red-400","w-full","label-text-alt","rounded-b"],[1,"text-red-400"],[1,"text-xl","font-bold","text-slate-500"],[1,"table","w-full"],[4,"ngFor","ngForOf"],[1,"text-secondary","link","underline-offset-2","cursor-pointer",3,"routerLink"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Update Book"),e.qZA(),e._UZ(5,"hr",4),e.TgZ(6,"p",5),e._uU(7,"To update the book. "),e.TgZ(8,"span",6),e._uU(9,"The Title should be Unique"),e.qZA(),e._uU(10,". Please add Title, Category, Price (in INR), Publisher Name, Date and content of the page. (255 Max length. Will need to increase in backend). "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return o.updateBook()}),e.TgZ(14,"div",9)(15,"label",10)(16,"span",11),e._uU(17,"BookId"),e.qZA()(),e._UZ(18,"input",12),e.YNc(19,C,2,0,"span",13),e.qZA(),e.TgZ(20,"div",9)(21,"label",14)(22,"span",11),e._uU(23,"Title"),e.qZA()(),e._UZ(24,"input",15),e.YNc(25,I,2,0,"span",13),e.qZA(),e.TgZ(26,"div",9)(27,"label",16)(28,"span",11),e._uU(29,"Category"),e.qZA()(),e._UZ(30,"input",17),e.YNc(31,D,2,0,"span",13),e.qZA(),e.TgZ(32,"div",9)(33,"label",18)(34,"span",11),e._uU(35,"Price"),e.qZA()(),e._UZ(36,"input",19),e.YNc(37,F,2,0,"span",13),e.qZA(),e.TgZ(38,"div",9)(39,"label",20)(40,"span",11),e._uU(41,"AuthorId"),e.qZA()(),e._UZ(42,"input",21),e.YNc(43,w,2,0,"span",13),e.qZA(),e.TgZ(44,"div",9)(45,"label",22)(46,"span",11),e._uU(47,"Publisher"),e.qZA()(),e._UZ(48,"input",23),e.YNc(49,N,2,0,"span",13),e.qZA(),e.TgZ(50,"div",9)(51,"label",24)(52,"span",11),e._uU(53,"Publish Date"),e.qZA()(),e._UZ(54,"input",25),e.YNc(55,J,2,0,"span",13),e.qZA(),e.TgZ(56,"div",9)(57,"label",26)(58,"span",11),e._uU(59,"Content:"),e.qZA()(),e._UZ(60,"textarea",27),e.YNc(61,Y,2,0,"span",13),e.qZA(),e._UZ(62,"br"),e.TgZ(63,"div",9)(64,"div",28)(65,"label",29),e._uU(66,"UnBlocked"),e.qZA(),e._UZ(67,"input",30),e.TgZ(68,"label",29),e._uU(69,"Blocked"),e.qZA()()(),e.TgZ(70,"div",31)(71,"button",32),e._uU(72,"Update Book Entry"),e.qZA()(),e.TgZ(73,"div"),e.YNc(74,S,2,1,"p",33),e.qZA()()()(),e.TgZ(75,"div",34)(76,"h1",3),e._uU(77,"List of Previous Books"),e.qZA(),e._UZ(78,"hr",4),e.TgZ(79,"p",5),e._uU(80,"Following is the List of previous books written by you. You can check the general information by clicking on "),e.TgZ(81,"span",35),e._uU(82,"Book Title"),e.qZA(),e._uU(83,"."),e.qZA(),e._UZ(84,"br"),e.TgZ(85,"div",36),e.YNc(86,Q,2,0,"div",37),e.YNc(87,O,13,1,"table",38),e.qZA()()()()),2&r&&(e.xp6(13),e.Q6J("formGroup",o.updateBookForm),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.bookId.invalid&&o.updateBookForm.controls.bookId.dirty),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.title.invalid&&o.updateBookForm.controls.title.dirty),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.category.invalid&&o.updateBookForm.controls.category.dirty),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.price.invalid&&o.updateBookForm.controls.price.dirty),e.xp6(5),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngIf",o.updateBookForm.controls.authorId.invalid&&o.updateBookForm.controls.authorId.dirty),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.publisher.invalid&&o.updateBookForm.controls.publisher.dirty),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.publishedDate.invalid&&o.updateBookForm.controls.publishedDate.dirty),e.xp6(6),e.Q6J("ngIf",o.updateBookForm.controls.content.invalid&&o.updateBookForm.controls.content.dirty),e.xp6(10),e.Q6J("disabled",o.updateBookForm.invalid),e.xp6(3),e.Q6J("ngIf",o.errorMessage),e.xp6(12),e.Q6J("ngIf",o.previousBooksBySameUser&&0===o.previousBooksBySameUser.length),e.xp6(1),e.Q6J("ngIf",o.previousBooksBySameUser&&0!==o.previousBooksBySameUser.length))},dependencies:[a.sg,a.O5,k.rH,n._Y,n.Fj,n.wV,n.Wl,n.JJ,n.JL,n.sg,n.u]});const E=function(t,r){return{"text-success":t,"text-error":r}},M=function(t,r){return{"btn btn-outline":!0,"btn-error":t,"btn-info":r}};function j(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.TgZ(15,"td",13)(16,"b"),e._uU(17),e.qZA()(),e.TgZ(18,"td")(19,"button",14),e.NdJ("click",function(c){const G=e.CHM(o).$implicit,R=e.oxw(2);return e.KtG(R.toggleBlock(c,G))}),e.TgZ(20,"b"),e._uU(21),e.qZA()()()()}if(2&t){const o=r.$implicit;e.xp6(2),e.Oqu(o.bookId),e.xp6(2),e.Oqu(o.title),e.xp6(2),e.Oqu(o.category),e.xp6(2),e.Oqu(o.publisher),e.xp6(2),e.Oqu(e.lcZ(11,10,o.publishedDate)),e.xp6(3),e.hij("",e.xi3(14,12,o.price,"INR")," "),e.xp6(2),e.Q6J("ngClass",e.WLB(15,E,!o.blocked,o.blocked)),e.xp6(2),e.Oqu(o.blocked?"Blocked":"Not Blocked"),e.xp6(2),e.Q6J("ngClass",e.WLB(18,M,!o.blocked,o.blocked)),e.xp6(2),e.Oqu(o.blocked?"Unblock":"Block")}}function W(t,r){if(1&t&&(e.TgZ(0,"div")(1,"div",5)(2,"h1",6),e._uU(3,"List of Previous Books"),e.qZA(),e._UZ(4,"hr",7),e.TgZ(5,"p",8),e._uU(6,"Following is the List of previous books written by you. You can check the general information by clicking "),e.TgZ(7,"span",9),e._uU(8,"Book Title"),e.qZA(),e._uU(9,"."),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"div",10)(12,"table",11)(13,"thead")(14,"tr")(15,"th"),e._uU(16,"bookId"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Title"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Category"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Publisher"),e.qZA(),e.TgZ(23,"td"),e._uU(24,"Publish Date"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Price"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Block Status"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,j,22,21,"tr",12),e.qZA()()()()()),2&t){const o=e.oxw();e.xp6(30),e.Q6J("ngForOf",o.previousBooksBySameUser)}}class p{constructor(r,o,i){this.bookService=r,this.userService=o,this.logger=i}ngOnInit(){this.populateData()}toggleBlock(r,o){r.target.disabled=!0,this.bookService.toggleBookBlock(parseInt(this.userService.user.id),o.bookId,o.blocked).subscribe(i=>{this.populateData()},i=>{this.logger.warn(i)})}populateData(){this.bookService.searchAllBooksByAuthor().subscribe(r=>{this.previousBooksBySameUser=r},r=>{this.logger.warn(r)})}}p.\u0275fac=function(r){return new(r||p)(e.Y36(b.Z),e.Y36(g.P),e.Y36(m.Kf))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-blockbook"]],decls:4,vars:2,consts:[[1,"hero","min-h-screen","bg-[url('/assets/book_wall.jpg')]"],[1,"hero-content","text-center","max-w-full"],["class","max-w shadow-lg p-4 border-2 rounded-box h-full w-fit text-xl font-bold text-error bg-base-200 border-warning opacity-95",4,"ngIf"],[4,"ngIf"],[1,"max-w","shadow-lg","p-4","border-2","rounded-box","h-full","w-fit","text-xl","font-bold","text-error","bg-base-200","border-warning","opacity-95"],[1,"max-w","shadow-lg","border-base-100","p-4","border-2","rounded-box","h-full","w-fit","bg-base-200"],[1,"text-5xl","font-bold"],[1,"border-base-100","border-2"],[1,"py-6"],[1,"text-secondary"],[1,"overflow-x-auto"],[1,"table","w-full"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,L,2,0,"div",2),e.YNc(3,W,31,1,"div",3),e.qZA()()),2&r&&(e.xp6(2),e.Q6J("ngIf",!(null!=o.previousBooksBySameUser&&o.previousBooksBySameUser.length)),e.xp6(1),e.Q6J("ngIf",null==o.previousBooksBySameUser?null:o.previousBooksBySameUser.length))},dependencies:[a.mk,a.sg,a.O5,a.H9,a.uU]});const $=[{path:"createBook",component:d},{path:"updateBook",component:s},{path:"blockBook",component:p}];class u{}u.\u0275fac=function(r){return new(r||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[k.Bz.forChild($),a.ez]})}}]);